:root{
  --container:1200px;
  --accent:#0b9bd7;
  /* pill tuning variables */
  --pill-width:56px;
  --pill-height:36px;
  --pill-radius:18px;
  --pill-right:12px; /* distance from right edge of input to pill */
  --pill-open-color:#0C86B8; /* open-state color (changeable) */
  /* make the pill shadow neutral (remove blue halo) */
  --pill-shadow: 0 3px 8px rgba(0,0,0,0.06);
  --pill-vertical-adjust: -4px; /* tweak to nudge pill vertically (negative moves up) */
}
*{box-sizing:border-box}
/* Use Poppins for a clean modern look; include Thai fallback fonts */
body{font-family: 'Poppins', 'Noto Sans Thai', 'Sarabun', Arial, sans-serif;margin:0;color:#222;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background: transparent}
.container{width:95%;max-width:var(--container);margin:0 auto}
h1,h2,h3{font-family:'Poppins', 'Noto Sans Thai', Arial, sans-serif;margin:0}
h1{font-weight:600}
h2{font-weight:600}
h3{font-weight:500}
.site-header{background: transparent; border-bottom:1px solid rgba(0,0,0,0.06)}
.site-header .container{display:flex;align-items:center;justify-content:space-between;padding:14px 0}
.logo{font-weight:700;color:var(--accent)}
.top-nav a{margin-left:16px;color:#666;text-decoration:none}

.hero{background: transparent;padding:40px 0}
.hero h1{margin:0;font-size:32px;text-align:center}
.subtitle{text-align:center;color:#666;margin-top:8px}

.search-card{max-width:900px;margin:20px auto;background:rgba(255,255,255,0.85);padding:16px;border-radius:12px;box-shadow:0 6px 20px rgba(20,50,100,0.06);backdrop-filter: blur(6px)}
.search-card .row{display:flex;gap:8px}
.search-card input[type=search]{flex:1;padding:12px;border:1px solid #ddd;border-radius:8px}
.search-card select{width:180px;padding:12px;border-radius:8px;border:1px solid #ddd}
.btn-search{background:var(--accent);color:#fff;border:none;padding:12px 20px;border-radius:8px}

.tabs{display:flex;gap:8px;margin-top:12px}
.tab{background:#f7f9fb;border:1px solid #eee;padding:10px 12px;border-radius:8px;cursor:pointer}
.tab.active{background:#fff;border-color:var(--accent);box-shadow:0 2px 8px rgba(11,155,215,0.12)}

.property-type-buttons{display:flex;gap:8px;margin-top:12px}
.ptype-btn{padding:8px 14px;border-radius:20px;border:1px solid rgba(11,155,215,0.15);background:#fff;color:#000;cursor:pointer;font-weight:500}
.ptype-btn.active{background:var(--accent);color:#fff;border-color:var(--accent)}


.map-area{padding:24px 0}
.map-area #map{position:relative;border:2px solid rgba(0,0,0,0.18);border-radius:12px;box-shadow:0 12px 30px rgba(0,0,0,0.12);overflow:hidden}
.locate-btn{position:absolute;right:18px;top:18px;z-index:1000;padding:10px 12px;border-radius:8px;background:transparent;border:1px solid rgba(255,255,255,0.65);box-shadow:0 4px 14px rgba(0,0,0,0.06);cursor:pointer;color:#000}
.locate-btn:hover{background:rgba(255,255,255,0.12);border-color:rgba(0,0,0,0.12)}
.results{padding:24px 0}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px;align-items:stretch}
.property-card{display:flex;flex-direction:column;text-decoration:none;background:rgba(255,255,255,0.96);border-radius:16px;border:1px solid rgba(11,155,215,0.12);box-shadow:0 16px 40px rgba(15,101,160,0.12);overflow:hidden;transition:transform 160ms ease,box-shadow 180ms ease, border-color 180ms ease;position:relative}
.property-card:hover{transform:translateY(-6px);box-shadow:0 24px 52px rgba(15,101,160,0.16);border-color:rgba(11,155,215,0.32)}
.property-card__image{position:relative;overflow:hidden;height:220px;background:linear-gradient(135deg,#d9ecff 0%,#f2f8ff 100%)}
.property-card__image img{width:100%;height:100%;object-fit:cover;display:block;transition:transform 200ms ease}
.property-card:hover .property-card__image img{transform:scale(1.05)}
.property-card__body{padding:18px;display:flex;flex-direction:column;gap:8px;color:#24394c}
.property-card__location{font-size:13px;color:#62819b;text-transform:uppercase;letter-spacing:0.06em}
.property-card__title{margin:0;font-size:18px;font-weight:700;color:#0e4063}
.property-card__price{font-size:18px;font-weight:700;color:#0d9bd7;display:inline-flex;align-items:baseline;gap:6px}
.property-card__price .price-amount{font-size:20px;font-weight:800;color:var(--accent)}
.property-card__price .price-unit{font-size:14px;color:var(--accent);font-weight:600}
/* table price styling */
.table-price .price-amount{font-weight:700;color:#0d9bd7}
.table-price .price-unit{font-size:12px;color:#6e8194;margin-left:6px}

/* chat modal overlay */
#chatModal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(6,24,40,0.42);z-index:2000}
#chatModal[aria-hidden="false"]{display:flex}
.modal-panel.chat-panel{max-width:940px;width:calc(100% - 48px);border-radius:14px;box-shadow:0 30px 80px rgba(6,24,40,0.28);background:linear-gradient(180deg,#fff,#fbfdff);padding:18px}
.modal-panel.chat-panel .modal-close{position:absolute;right:12px;top:8px;background:transparent;border:none;font-size:20px}
.property-card__cta{margin-top:auto;font-size:13px;font-weight:600;color:#0d9bd7}
.property-card__cta::after{content:'';display:inline-block;width:10px;height:10px;margin-left:6px;transform:rotate(-45deg);border-top:2px solid currentColor;border-right:2px solid currentColor}
.property-card:hover .property-card__cta{color:#0b5c97}

.site-footer{background: transparent;padding:18px;border-top:1px solid rgba(0,0,0,0.06);margin-top:40px}

.empty-state{padding:32px;text-align:center;border-radius:12px;background:rgba(255,255,255,0.9);border:1px dashed rgba(11,155,215,0.18);color:#5a6b7c;font-size:15px;box-shadow:0 10px 24px rgba(15,101,160,0.08);}

.back-link{display:inline-flex;align-items:center;gap:6px;margin-bottom:18px;color:#0b9bd7;text-decoration:none;font-weight:600}
.back-link::before{content:'â†©';font-size:16px}
.back-link:hover{color:#0b5c97}

.listing-shell{max-width:1100px;margin:0 auto;padding:40px 18px 80px 18px}
.listing-header{display:flex;flex-direction:column;gap:12px;margin-bottom:24px}
.listing-header h1{margin:0;font-size:28px;color:#0e4063}
.listing-header .listing-price{font-size:24px;font-weight:700;color:#0d9bd7}
.listing-header .listing-meta{display:flex;gap:18px;flex-wrap:wrap;font-size:14px;color:#5a6b7c}
.listing-header .listing-meta span{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:999px;background:rgba(11,155,215,0.12);color:#0b5c97;font-weight:600}

.listing-layout{display:grid;grid-template-columns:2fr 1fr;gap:26px;align-items:start}
.listing-gallery{display:flex;flex-direction:column;gap:14px}
.listing-hero-image{width:100%;height:340px;object-fit:cover;border-radius:18px;box-shadow:0 18px 46px rgba(15,101,160,0.18);background:linear-gradient(135deg,#d9ecff 0%,#f2f8ff 100%)}
.listing-thumbs{display:grid;grid-template-columns:repeat(auto-fit,minmax(90px,1fr));gap:10px}
.listing-thumb{position:relative;border-radius:12px;overflow:hidden;border:2px solid transparent;cursor:pointer;transition:border-color 140ms ease, transform 140ms ease}
.listing-thumb img{width:100%;height:72px;object-fit:cover;display:block}
.listing-thumb.is-active{border-color:#0d9bd7;transform:translateY(-2px)}

.listing-summary{background:rgba(255,255,255,0.96);border-radius:18px;border:1px solid rgba(11,155,215,0.16);box-shadow:0 20px 48px rgba(15,101,160,0.14);padding:24px;display:flex;flex-direction:column;gap:16px}
.listing-summary h2{margin:0;font-size:20px;color:#0e4063}
.listing-owner{font-size:14px;color:#5a6b7c}
.listing-actions{display:flex;flex-direction:column;gap:10px;margin-top:6px}
.btn-primary--full,.btn-accent--full{width:100%;justify-content:center;box-shadow:0 16px 36px rgba(13,155,215,0.18)}
.btn-primary--full:hover,.btn-accent--full:hover{box-shadow:0 20px 44px rgba(13,155,215,0.22)}
.btn-outline--full{width:100%;justify-content:center;padding:13px 22px;border-radius:12px;border:2px solid #0b9bd7;background:#fff;color:#0b9bd7;font-weight:600;cursor:pointer;transition:background-color 140ms ease, box-shadow 140ms ease}
.btn-outline--full:hover{background:rgba(11,155,215,0.08);box-shadow:0 16px 32px rgba(13,155,215,0.12)}
.btn-accent{display:inline-flex;align-items:center;justify-content:center;padding:13px 22px;border-radius:12px;background:linear-gradient(135deg,#f97316 0%,#f0541d 100%);color:#fff;border:none;font-weight:600;cursor:pointer;transition:transform 140ms ease, box-shadow 140ms ease}
.btn-accent:hover{transform:translateY(-1px);box-shadow:0 20px 40px rgba(240,84,29,0.24)}
.btn-accent:active{transform:translateY(0)}
.contact-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:10px;font-size:15px;color:#24394c}
.contact-list li{display:flex;flex-direction:column;gap:4px;padding:12px;border-radius:12px;background:linear-gradient(135deg,rgba(16,143,208,0.12) 0%,rgba(16,143,208,0.04) 100%);border:1px solid rgba(16,143,208,0.18)}
.contact-list li span{font-weight:600;color:#0b5c97}
.contact-action{color:#0d9bd7;text-decoration:none;font-weight:600}
.contact-action:hover{text-decoration:underline}

.listing-section{margin-top:36px;background:rgba(255,255,255,0.97);border-radius:18px;border:1px solid rgba(11,155,215,0.12);box-shadow:0 20px 48px rgba(15,101,160,0.12);padding:26px}
.listing-section h3{margin:0 0 12px 0;font-size:20px;color:#0e4063}
.amenities-grid{display:flex;flex-wrap:wrap;gap:10px}
.amenity-chip{padding:8px 14px;border-radius:999px;background:rgba(16,143,208,0.12);color:#0b5c97;font-weight:600;font-size:13px}

#listingDetailMap{height:320px;border-radius:16px;overflow:hidden;border:1px solid rgba(11,155,215,0.18);box-shadow:0 18px 40px rgba(15,101,160,0.16)}

.listing-updated{margin-top:18px;font-size:13px;color:#6a7d92}
.loading-text{margin-top:16px;font-size:14px;color:#5a6b7c}
body.listing-loading{cursor:progress}

@media(max-width:1024px){
  .listing-layout{grid-template-columns:1fr;gap:20px}
  .listing-summary{position:relative}
}

@media(max-width:768px){
  .listing-header h1{font-size:24px}
  .listing-header .listing-price{font-size:20px}
  .listing-hero-image{height:260px}
}

@media(max-width:600px){
  .listing-shell{padding:28px 16px 64px 16px}
  .listing-thumbs{grid-template-columns:repeat(auto-fit,minmax(72px,1fr))}
  .contact-list li{padding:10px}
}

@media (max-width:800px){
  .auth-panel{width:100%;transform:translateY(100%);right:0;bottom:0;top:auto;height:60vh}
  .auth-panel[aria-hidden="false"]{transform:translateY(0)}
}

/* Auth pages */
.auth-page{display:flex;align-items:center;justify-content:center;height:80vh}
.auth-form{width:100%;max-width:420px;padding:20px;border-radius:10px;background:rgba(255,255,255,0.95);box-shadow:0 8px 24px rgba(0,0,0,0.06)}
.auth-form h2{margin-bottom:12px}
.auth-form input{width:100%;padding:10px;margin:8px 0;border-radius:6px;border:1px solid #ddd}
.auth-form button{width:100%;padding:12px;background:var(--accent);color:#fff;border:none;border-radius:6px;margin-top:8px}
.auth-form p{margin-top:12px;text-align:center}

.form-msg{color:#c00;margin-top:6px;font-size:14px;min-height:20px}
.form-msg--success{color:#0a7}

/* Modal styles */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:2000}
.modal[aria-hidden="false"]{display:flex}
.modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,0.4)}
.modal-panel{position:relative;background:#fff;padding:20px;border-radius:10px;max-width:420px;width:90%;box-shadow:0 24px 80px rgba(0,0,0,0.2);z-index:2}
.modal-panel.chat-panel{max-width:520px;width:95%;display:flex;flex-direction:column;gap:12px}
.modal-close{position:absolute;right:12px;top:8px;border:none;background:transparent;font-size:18px;cursor:pointer}
.modal-panel h2{margin-top:0;font-size:20px;color:#0e4063}

.chat-listing-title{margin:0;color:#5a6b7c;font-size:14px}
.chat-messages{flex:1;min-height:260px;max-height:360px;overflow-y:auto;border:1px solid rgba(11,155,215,0.18);border-radius:14px;padding:12px;background:linear-gradient(180deg,#f8fbff 0%,#f1f7ff 100%);display:flex;flex-direction:column;gap:8px}
.chat-messages::-webkit-scrollbar{width:8px}
.chat-messages::-webkit-scrollbar-thumb{background:rgba(11,155,215,0.25);border-radius:999px}
.chat-empty{margin:0 auto;padding:16px 12px;font-size:13px;color:#5a6b7c}
.chat-message{align-self:flex-start;max-width:78%;background:#fff;border-radius:14px;border:1px solid rgba(11,155,215,0.16);padding:10px 14px;box-shadow:0 8px 18px rgba(11,155,215,0.12)}
.chat-message.is-own{align-self:flex-end;background:linear-gradient(135deg,#1ab0ec 0%,#108fd0 100%);color:#fff;border-color:transparent}
.chat-message-body{white-space:pre-wrap;word-break:break-word;font-size:14px}
.chat-message.is-own .chat-message-body a{color:#fff;text-decoration:underline}
.chat-message-meta{margin-top:6px;font-size:11px;color:#5a6b7c}
.chat-message.is-own .chat-message-meta{color:rgba(255,255,255,0.85)}
.chat-form{display:flex;flex-direction:column;gap:8px}
.chat-input-row{display:flex;gap:10px;align-items:flex-end}
.chat-input-row textarea{flex:1;resize:vertical;min-height:54px;max-height:140px;padding:12px 14px;border-radius:12px;border:1px solid #ccd8e4;font-family:inherit;font-size:14px}
.chat-input-row textarea:focus{border-color:#20a7e4;box-shadow:0 0 0 3px rgba(35,159,235,0.14);outline:none}
.btn-chat-send{min-width:80px}


.contact-modal-list{display:grid;gap:12px;margin:18px 0}
.contact-modal-item{padding:14px;border-radius:12px;border:1px solid rgba(11,155,215,0.18);background:linear-gradient(135deg,rgba(16,143,208,0.08) 0%,rgba(16,143,208,0.02) 100%);display:flex;flex-direction:column;gap:6px}
.contact-modal-item strong{font-size:14px;color:#0b5c97}
.contact-modal-actions{display:flex;gap:10px;flex-wrap:wrap}
.contact-modal-actions button,.contact-modal-actions a{padding:8px 12px;border-radius:10px;border:1px solid rgba(11,155,215,0.28);background:#fff;color:#0b5c97;font-weight:600;text-decoration:none;cursor:pointer;transition:background-color 140ms ease, box-shadow 140ms ease}
.contact-modal-actions button:hover,.contact-modal-actions a:hover{background:rgba(11,155,215,0.1);box-shadow:0 10px 20px rgba(11,155,215,0.14)}

.booking-form{display:flex;flex-direction:column;gap:12px;margin-top:12px}
.booking-form textarea{min-height:90px;resize:vertical;padding:10px;border-radius:10px;border:1px solid #ccd8e4;font-family:inherit}
.booking-form textarea:focus{border-color:#20a7e4;box-shadow:0 0 0 3px rgba(35,159,235,0.14);outline:none}
.icon-btn{position:absolute;right:10px;top:8px;border:none;background:transparent;cursor:pointer}
.btn-primary{background:var(--accent);color:#fff;border:none;padding:12px 16px;border-radius:6px;cursor:pointer;transition:box-shadow 140ms ease, transform 120ms ease, background-color 140ms ease}
.btn-primary:hover{background:color-mix(in srgb, var(--accent) 85%, #000 15%);box-shadow:0 8px 22px rgba(11,155,215,0.12);transform:translateY(-1px)}
.btn-primary:active{transform:translateY(0)}

/* small button variant (compact) */
.btn-sm{padding:8px 12px;border-radius:8px;font-size:14px;min-width:88px;display:inline-flex;align-items:center;justify-content:center}

/* Ensure compact primary variant uses theme and is readable */
.btn-primary.btn-sm{background:var(--accent);color:#fff;border:none}
.btn-primary.btn-sm:hover{background:color-mix(in srgb, var(--accent) 85%, #000 15%);box-shadow:0 8px 18px rgba(11,155,215,0.10)}

/* Outline button for secondary actions */
.btn-outline{background:#fff;color:var(--accent);border:2px solid var(--accent);padding:10px 12px;border-radius:8px;transition:background-color 120ms ease, color 120ms ease, box-shadow 120ms ease}
.btn-outline:hover{background:color-mix(in srgb, #fff 90%, var(--accent) 10%);box-shadow:0 6px 14px rgba(11,155,215,0.06)}
.btn-outline:active{transform:translateY(1px)}

/* Fallback to ensure cancel button remains visible */
#passwordResetBox button{position:relative}
#cancelResetBtn{min-width:88px;display:inline-flex;align-items:center;justify-content:center;z-index:30;position:relative}
#sendResetBtn{position:relative;z-index:10}

/* SVG eye animation */
.icon-svg{transition:transform 180ms ease, opacity 180ms ease}
.icon-svg.toggle-open{transform:scale(1.06) rotate(-6deg)}
.icon-svg.toggle-closed{transform:scale(1) rotate(0)}

/* Visible focus outline for accessibility */
button:focus, input:focus, select:focus, a:focus{outline:3px solid rgba(11,155,215,0.18);outline-offset:2px}

/* Modal focus trap visual helper (invisible element) */
.focus-sentinel{position:fixed;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}

/* Slight enter animation for modal panel */
.modal-panel{transform-origin:center center;transition:transform 220ms cubic-bezier(.2,.9,.2,1), opacity 180ms ease}
.modal[aria-hidden="false"] .modal-panel{transform:translateY(0);opacity:1}
.modal[aria-hidden="true"] .modal-panel{transform:translateY(8px);opacity:0}

/* Right-side auth panel styles */
.auth-panel{position:fixed;right:0;top:0;bottom:0;width:480px;background:#fff;box-shadow:-12px 0 30px rgba(0,0,0,0.12);z-index:2500;transform:translateX(100%);transition:transform 260ms cubic-bezier(.2,.9,.2,1);padding:28px;overflow:auto}
.auth-panel[aria-hidden="false"]{transform:translateX(0)}
.auth-inner{max-width:440px;margin:40px auto}
.auth-tabs{display:flex;gap:8px;margin-bottom:12px}
.auth-tab{flex:1;padding:12px 14px;border-radius:10px;border:1px solid #eee;background:#fafafa;cursor:pointer;font-weight:600}
.auth-tab.active{background:var(--accent);color:#fff;border-color:var(--accent);box-shadow:0 6px 18px rgba(11,155,215,0.12)}
.auth-form{display:block}
.auth-form[aria-hidden="true"]{display:none}
.auth-form h3{margin:0 0 6px 0}
.field{display:block;margin:10px 0}
.field span{display:block;font-size:13px;color:#444;margin-bottom:6px}
.field input{width:100%;padding:10px;border-radius:8px;border:1px solid #ddd}
.two-cols{display:flex;gap:8px}
.two-cols .field{flex:1}
.pwd-wrap{position:relative}
/* precise decorative pill: 56x36px to match screenshot */
.pwd-wrap::before{content:'';position:absolute;right:var(--pill-right);top:50%;transform:translateY(calc(-50% + var(--pill-vertical-adjust))) translateX(0);width:var(--pill-width);height:var(--pill-height);border-radius:var(--pill-radius);background:var(--accent);box-shadow:var(--pill-shadow);z-index:2;transition:transform 220ms cubic-bezier(.2,.9,.2,1), opacity 200ms ease, background-color 200ms ease;pointer-events:none}
/* clickable icon button sits above the decorative pill */
.pwd-wrap .icon-btn{position:absolute;right:var(--pill-right);top:50%;transform:translateY(calc(-50% + var(--pill-vertical-adjust)));width:var(--pill-width);height:var(--pill-height);border-radius:var(--pill-radius);background:transparent;border:none;display:flex;align-items:center;justify-content:center;z-index:6;color:#fff;transition:opacity 140ms ease, transform 140ms ease;pointer-events:auto}
/* ensure input doesn't overlap the pill area visually */
.pwd-wrap input{padding-right:calc(var(--pill-width) + var(--pill-right) + 16px);position:relative;z-index:2;background:#fff}
.pwd-wrap .icon-btn .icon-eye{width:22px;height:22px;display:none;transition:opacity 180ms ease;stroke-linecap:round;stroke-linejoin:round}
.pwd-wrap .icon-btn .icon-eye path{stroke:#0b9bd7;stroke-width:1.8}
.pwd-wrap .icon-btn .icon-eye-open path{fill:#0b9bd7;stroke-width:0}
.pwd-wrap .icon-btn.showing .icon-eye-open{display:block}
.pwd-wrap .icon-btn.showing .icon-eye-closed{display:none}
.pwd-wrap .icon-btn:not(.showing) .icon-eye-open{display:none}
.pwd-wrap .icon-btn:not(.showing) .icon-eye-closed{display:block}

.pwd-wrap .icon-btn:hover{opacity:0.95}
.pwd-wrap .icon-btn:active{transform:translateY(-50%) scale(0.98)}

/* remove the blue focus/frame around the pill/icon while keeping focus outlines elsewhere */
.pwd-wrap .icon-btn:focus{outline:none !important;box-shadow:none !important;border:none !important}
.pwd-wrap input:focus{outline:none !important}
/* ensure no focus ring from browser appears on any descendant inside pwd-wrap */
.pwd-wrap :focus{outline:none !important;box-shadow:none !important}

/* open state: slightly translate pill to indicate active (integrated with input) */
.pwd-wrap.pwd-open::before{transform:translateY(calc(-50% + var(--pill-vertical-adjust))) translateX(calc(var(--pill-width) * 0.11)) scale(1.02);background:var(--pill-open-color)}
.pwd-wrap.pwd-open .icon-btn{transform:translateY(calc(-50% + var(--pill-vertical-adjust))) scale(1.02)}
.pw-hint{font-size:13px;color:#666;margin:8px 0}
.role-options{display:flex;gap:10px;margin-top:6px;flex-wrap:wrap}
.role-option{display:inline-flex;align-items:center;gap:6px;padding:8px 12px;border:1px solid rgba(11,155,215,0.2);border-radius:10px;background:#fff;cursor:pointer;font-weight:500;color:#0b9bd7;transition:box-shadow 140ms ease, border-color 140ms ease}
.role-option:hover{box-shadow:0 4px 12px rgba(11,155,215,0.12)}
.role-option input{margin:0;accent-color:var(--accent)}
.role-option span{pointer-events:none;padding:4px 8px;border-radius:999px;transition:background-color 140ms ease,color 140ms ease}
.role-option input:checked + span{font-weight:600;background:var(--accent);color:#fff}
.checkbox{display:flex;align-items:center;gap:8px}
.login-options{display:flex;align-items:center;justify-content:space-between;gap:12px}
.login-options .checkbox{margin:0}
.login-options .checkbox input[type=checkbox]{width:16px;height:16px;transform:scale(1);margin-right:8px}
.login-options a{white-space:nowrap}
.auth-close{position:absolute;right:12px;top:12px}
.auth-panel .modal-close{position:absolute;right:8px;top:8px}

/* Visual tweaks to better match the reference: larger title, roomy inputs, prominent CTA */
.auth-form h3{font-size:20px;font-weight:700;color:#122;letter-spacing:0.2px;margin-bottom:10px}
.field input{padding:12px;border-radius:10px}
.btn-primary{padding:14px 18px;font-size:16px;border-radius:10px}
.form-msg{min-height:24px}

@media (max-width:900px){
  .auth-panel{width:100%;transform:translateY(100%);right:0;bottom:0;top:auto;height:60vh}
  .auth-panel[aria-hidden="false"]{transform:translateY(0)}
}

/* Slight adjustments for the panel content on narrow screens */
@media (max-width:480px){
  .auth-inner{padding:8px;max-width:100%;margin:12px}
  .auth-tab{padding:10px}
  .two-cols{flex-direction:column}
  .login-options{flex-direction:row;align-items:center;justify-content:space-between}
}

/* Header user status */
.user-status{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:20px;border:1px solid rgba(0,0,0,0.06);background:rgba(255,255,255,0.9);margin-left:12px}
.user-status .user-name{font-weight:600;color:#0b9bd7;text-decoration:none;display:inline-flex;align-items:center;gap:4px;border-bottom:1px solid transparent;transition:border-color 120ms ease,color 120ms ease}
.user-status .user-name::after{content:'\2192';font-size:12px;color:inherit;opacity:0;transition:opacity 120ms ease,transform 120ms ease;transform:translateX(-2px)}
.user-status .user-name:hover,.user-status .user-name:focus{color:#086f9d;border-color:rgba(11,155,215,0.4);outline:none}
.user-status .user-name:hover::after,.user-status .user-name:focus::after{opacity:1;transform:translateX(2px)}
.user-status .user-role{padding:4px 8px;border-radius:12px;background:rgba(11,155,215,0.12);color:#0b5c97;font-size:13px;font-weight:600}
.btn-ghost{background:transparent;border:1px solid transparent;padding:6px 10px;border-radius:8px;cursor:pointer;transition:background-color 140ms ease, border-color 140ms ease, box-shadow 140ms ease}
.btn-ghost:hover{background:rgba(255,255,255,0.96);border-color:rgba(11,155,215,0.14);box-shadow:0 6px 16px rgba(11,155,215,0.06)}

/* Ensure the inline password-reset cancel button never hides on hover */
#passwordResetBox .btn-ghost, #passwordResetBox #cancelResetBtn{ display:inline-block !important; visibility:visible !important; opacity:1 !important; z-index:5; }
#passwordResetBox .btn-ghost:hover, #passwordResetBox #cancelResetBtn:hover{ opacity:1 !important; background:rgba(255,255,255,0.96) !important; border-color:rgba(11,155,215,0.14) !important; box-shadow:0 6px 16px rgba(11,155,215,0.06) !important }

/* Strong override: guarantee cancel button is visible above send button */
#passwordResetBox{overflow:visible !important}
#cancelResetBtn{
  position:relative !important;
  z-index:99999 !important;
  background:#fff !important;
  color:var(--accent) !important;
  border:2px solid var(--accent) !important;
  padding:8px 12px !important;
  min-width:88px !important;
  display:inline-flex !important;
  align-items:center !important;
  justify-content:center !important;
  box-shadow:none !important;
}
#cancelResetBtn:hover{background:color-mix(in srgb, #fff 90%, var(--accent) 10%) !important;box-shadow:0 6px 14px rgba(11,155,215,0.06) !important}
#sendResetBtn{z-index:10 !important;position:relative !important}

/* Login/Register header buttons (styled the same) */
#loginLink, #registerLink, #landlordLink, #adminLink{display:inline-block;padding:8px 12px;border-radius:18px;border:1px solid rgba(11,155,215,0.12);margin-left:12px;color:#0b9bd7;background:#fff;text-decoration:none;font-weight:600}
#loginLink:hover, #registerLink:hover, #landlordLink:hover, #adminLink:hover{box-shadow:0 6px 18px rgba(0,0,0,0.06)}

/* Landlord message center */
.messages-shell{display:grid;grid-template-columns:280px 1fr;gap:20px;align-items:stretch}
.messages-sidebar{display:flex;flex-direction:column;gap:12px;padding:16px;border-radius:18px;background:rgba(248,251,255,0.92);border:1px solid rgba(11,155,215,0.16);box-shadow:0 12px 28px rgba(11,155,215,0.12)}
.messages-toolbar{display:flex;align-items:center;justify-content:space-between;gap:8px}
.conversation-list{display:flex;flex-direction:column;gap:10px;max-height:360px;overflow-y:auto;padding-right:4px}
.conversation-list::-webkit-scrollbar{width:8px}
.conversation-list::-webkit-scrollbar-thumb{background:rgba(11,155,215,0.18);border-radius:999px}
.conversation-item{display:flex;flex-direction:column;gap:6px;padding:12px;border-radius:14px;border:1px solid rgba(11,155,215,0.16);background:#fff;cursor:pointer;transition:transform 120ms ease, box-shadow 140ms ease, border-color 140ms ease}
.conversation-item:hover{transform:translateY(-1px);box-shadow:0 14px 26px rgba(11,155,215,0.16);border-color:rgba(11,155,215,0.36)}
.conversation-item.is-active{border-color:#0d9bd7;box-shadow:0 16px 32px rgba(11,155,215,0.22);background:linear-gradient(135deg,rgba(16,143,208,0.18) 0%,rgba(16,143,208,0.06) 100%)}
.conversation-title{font-size:14px;font-weight:600;color:#0b5c97;margin:0}
.conversation-snippet{font-size:12px;color:#5d7084;margin:0;line-height:1.5}
.conversation-meta{display:flex;justify-content:space-between;align-items:center;font-size:11px;color:#6e8194}
.conversation-time{font-size:11px;color:#6e8194}
.conversation-listing{font-size:12px;color:#0b5c97;font-weight:600}
.conversation-unread{display:inline-flex;align-items:center;justify-content:center;padding:4px 8px;border-radius:999px;background:linear-gradient(135deg,#f97316 0%,#f0541d 100%);color:#fff;font-size:11px;font-weight:700;min-width:24px}
.messages-empty{margin-top:auto;padding:18px;text-align:center;border-radius:12px;border:1px dashed rgba(11,155,215,0.2);color:#5d7084;font-size:13px;background:rgba(255,255,255,0.8)}
.messages-thread{display:flex;flex-direction:column;gap:12px;padding:18px;border-radius:18px;background:rgba(255,255,255,0.95);border:1px solid rgba(11,155,215,0.16);box-shadow:0 18px 38px rgba(11,155,215,0.16)}
.thread-header{display:flex;flex-direction:column;gap:6px}
.thread-header h3{margin:0;font-size:18px;color:#0b5c97}
.thread-meta{font-size:13px;color:#5d7084;display:flex;gap:10px;flex-wrap:wrap}
.thread-messages{flex:1;min-height:260px;max-height:380px;overflow-y:auto;display:flex;flex-direction:column;gap:10px;padding:14px;border-radius:16px;border:1px solid rgba(11,155,215,0.16);background:linear-gradient(180deg,#f8fbff 0%,#f1f7ff 100%)}
.thread-messages::-webkit-scrollbar{width:8px}
.thread-messages::-webkit-scrollbar-thumb{background:rgba(11,155,215,0.25);border-radius:999px}
.thread-message{align-self:flex-start;max-width:78%;padding:10px 14px;border-radius:14px;border:1px solid rgba(11,155,215,0.14);background:#fff;box-shadow:0 8px 18px rgba(11,155,215,0.12)}
.thread-message.is-own{align-self:flex-end;background:linear-gradient(135deg,#1ab0ec 0%,#108fd0 100%);color:#fff;border-color:transparent}
.thread-message-body{white-space:pre-wrap;word-break:break-word;font-size:14px}
.thread-message-meta{margin-top:6px;font-size:11px;color:#5d7084}
.thread-message.is-own .thread-message-meta{color:rgba(255,255,255,0.8)}
.thread-form{display:flex;flex-direction:column;gap:10px}
#conversationInput{resize:vertical;min-height:70px;max-height:160px;padding:12px 14px;border-radius:12px;border:1px solid #ccd8e4;font-family:inherit;font-size:14px}
#conversationInput:focus{border-color:#20a7e4;box-shadow:0 0 0 3px rgba(35,159,235,0.14);outline:none}
.thread-empty{padding:20px;text-align:center;color:#5d7084;font-size:13px}
.thread-actions{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
.thread-actions .form-msg{flex:1;color:#5d7084}
.thread-actions button{flex:0 0 auto}

.booking-status-actions{display:flex;flex-direction:column;gap:8px;align-items:flex-start}
.booking-status-select{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #ccd8e4;background:#fff;font-size:14px;font-family:inherit;color:#123}
.booking-status-select:focus{border-color:#20a7e4;box-shadow:0 0 0 3px rgba(35,159,235,0.14);outline:none}

.card-note{margin:0 0 14px 0;color:#5d7084;font-size:13px}
.card-note--error{color:#d64545}
.booking-requests-toolbar{display:flex;justify-content:flex-end;gap:10px;margin-bottom:12px}
.table-message{white-space:pre-wrap;font-size:13px;color:#42566a;line-height:1.6}
.visually-hidden{position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;border:0!important}
.booking-requests-layout{display:grid;grid-template-columns:2fr 1fr;gap:18px;align-items:start}
.booking-requests-main{min-width:0}
.booking-requests-aside{background:linear-gradient(180deg,#f6fbff 0%,#eef5ff 100%);border-radius:18px;border:1px solid rgba(11,155,215,0.16);padding:18px;box-shadow:0 12px 28px rgba(11,155,215,0.12)}
.booking-requests-aside h3{margin:0 0 12px 0;font-size:16px;color:#0b5c97}
.booking-confirmed{display:flex;flex-direction:column;gap:12px}

.profile-hero{padding:60px 0 40px;background:linear-gradient(180deg,#f2f8ff 0%,#f8fbff 100%)}
.profile-hero h1{margin:0;font-size:32px;color:#0b5c97}
.profile-subtitle{margin:8px 0 0 0;font-size:16px;color:#f2f8ff}
.profile-content{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:24px;padding:40px 0 80px 0}
.profile-card{background:#fff;border-radius:22px;box-shadow:0 24px 48px rgba(15,101,160,0.12);padding:28px;border:1px solid rgba(11,155,215,0.08)}
.profile-card h2{margin:0 0 18px 0;font-size:20px;color:#0b5c97}
.profile-card-header{display:flex;align-items:center;justify-content:space-between;gap:16px;margin-bottom:18px}
.profile-card-header h2{margin:0}
.profile-card-header .btn-sm{min-width:100px}
.profile-details{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin:0}
.profile-details div{display:flex;flex-direction:column;gap:6px;padding:12px;border-radius:14px;background:linear-gradient(180deg,#f8fbff 0%,#f1f7ff 100%);border:1px solid rgba(11,155,215,0.12)}
.profile-details dt{font-size:13px;font-weight:600;color:#3b5166;margin:0}
.profile-details dd{margin:0;font-size:15px;color:#123;font-weight:600}

/* Dashboard grid: left navigation, main content, right widgets (moved from admin-dashboard.html) */
.dashboard-grid{display:grid;grid-template-columns:200px 1.9fr 240px;gap:12px;margin-top:14px}

/* when the right sidebar is intentionally empty, collapse the grid to two columns */
.dashboard-grid.no-right{grid-template-columns:220px 1fr}
.sidebar-left{display:flex;flex-direction:column;gap:12px}
/* slightly more compact profile card for Thai labels */
.profile-card{background:linear-gradient(180deg,#ffffff,#f7fbff);padding:12px;border-radius:12px;display:flex;gap:10px;align-items:center;box-shadow:0 12px 22px rgba(11,155,215,0.06)}
.avatar{height:44px;width:44px;border-radius:10px;background:linear-gradient(135deg,#6cc5ff,#0b7fc0);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:14px}
.profile-meta .name{font-weight:700;color:#073d6a;line-height:1}
.profile-meta .role{font-size:12px;color:#5f7489}
.nav-list{display:flex;flex-direction:column;gap:8px}
.nav-list a{display:block;padding:8px 10px;border-radius:8px;color:#074064;text-decoration:none;background:rgba(255,255,255,0.9);border:1px solid rgba(11,155,215,0.06);font-size:14px}
.nav-list a:hover{background:linear-gradient(90deg,rgba(11,155,215,0.06),rgba(11,155,215,0.02))}
.top-tiles{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-bottom:6px}
.top-tile{padding:10px;border-radius:12px;color:#fff;font-weight:700;display:flex;flex-direction:column;gap:6px;min-height:72px;box-shadow:0 12px 28px rgba(11,155,215,0.10)}
.tile-a{background:linear-gradient(135deg,#ffb36b,#ff8a5b)}
.tile-b{background:linear-gradient(135deg,#5fc0ff,#0b80c2)}
.tile-c{background:linear-gradient(135deg,#7ee7b8,#2cc27a)}
.tile-d{background:linear-gradient(135deg,#c18bff,#8a58ff)}
.tile-amount{font-size:18px}
.calendar-card{padding:12px;border-radius:12px;background:linear-gradient(180deg,#ffffff,#f3fbff);box-shadow:0 16px 32px rgba(14,70,122,0.05)}
.calendar-day{font-size:36px;font-weight:800;color:#073d6a}
@media(max-width:980px){
  .dashboard-grid{grid-template-columns:1fr}
  .top-tiles{grid-template-columns:repeat(2,1fr)}
  .sidebar-right{order:3}
}

/* visual polish for tiles and calendar */
.top-tile small{font-size:11px;opacity:0.95;line-height:1}
.top-tile .fa{opacity:0.92}
.top-tile .tile-amount{font-size:18px}
.top-tile .tile-icon{font-size:18px;margin-bottom:4px}
/* adminCalendar element removed */
.admin-card h3{display:flex;align-items:center;gap:8px}
.top-tiles .top-tile{min-height:76px;padding:10px}

/* Modal removed */
.profile-summary-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px}
.profile-summary-card{display:flex;flex-direction:column;gap:6px;padding:12px;border-radius:12px;background:linear-gradient(135deg,rgba(16,143,208,0.18) 0%,rgba(16,143,208,0.06) 100%);border:1px solid rgba(16,143,208,0.24);box-shadow:0 12px 24px rgba(16,143,208,0.12)}
.profile-summary-card span{font-size:12px;color:#0b5c97;font-weight:600}
.profile-summary-card strong{font-size:20px;color:#0b5c97}
.profile-extras{display:flex;flex-direction:column;gap:24px}
.profile-edit-note{margin:0 0 14px 0;font-size:13px;color:#5a6f85}
.profile-edit-form{display:flex;flex-direction:column;gap:18px}
.profile-edit-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px}
.profile-field{display:flex;flex-direction:column;gap:6px}
.profile-field span{font-size:13px;font-weight:600;color:#3b5166}
.profile-field input{padding:11px 14px;border-radius:12px;border:1px solid #ccd8e4;background:#fff;font-family:inherit;font-size:15px;color:#123}
.profile-field input:disabled{background:#f4f7fb;border-color:rgba(11,155,215,0.16);color:#627287;cursor:not-allowed}
.profile-field input:focus{border-color:#20a7e4;box-shadow:0 0 0 3px rgba(35,159,235,0.14);outline:none}
.profile-password-fieldset{border:1px dashed rgba(11,155,215,0.24);border-radius:16px;padding:16px}
.profile-password-fieldset legend{padding:0 8px;font-size:13px;font-weight:600;color:#0b5c97}
.profile-edit-form[data-editing="false"] .profile-password-fieldset{opacity:0.55;pointer-events:none}
.profile-edit-form[data-editing="true"] .profile-password-fieldset{opacity:1}
.profile-edit-actions{display:flex;gap:12px;flex-wrap:wrap}
.profile-edit-actions .btn-outline{min-width:140px}
.profile-edit-actions .btn-primary{min-width:170px}
.profile-edit-actions button{flex:0 0 auto}
.profile-edit-form[data-editing="false"] .profile-edit-actions{display:none}

@media(max-width:720px){
  .profile-hero{padding:48px 0 28px}
  .profile-hero h1{font-size:26px}
  .profile-subtitle{font-size:14px}
  .profile-content{grid-template-columns:1fr}
}

@media(max-width:960px){
  .booking-requests-layout{grid-template-columns:1fr;gap:14px}
}

@media(max-width:960px){
  .messages-shell{grid-template-columns:1fr;gap:16px}
  .messages-sidebar{flex-direction:column}
  .conversation-list{max-height:none}
}

@media(max-width:600px){
  .thread-actions{flex-direction:column;align-items:stretch}
  .thread-actions button{width:100%}
  .messages-sidebar, .messages-thread{padding:14px}
}

/* Message badge styles (used in header and message cards) */
.site-msg-badge,
.messages-badge{
  display:inline-flex;
  min-width:20px;
  height:20px;
  padding:0 8px;
  margin-left:8px;
  align-items:center;
  justify-content:center;
  border-radius:999px;
  background:#d64545; /* red alert color */
  color:#fff;
  font-size:12px;
  font-weight:700;
  box-shadow:0 6px 12px rgba(0,0,0,0.12);
}

/* slightly larger badge used in cards */
.messages-badge{ min-width:26px; height:22px; font-size:13px; padding:0 8px; margin-left:10px }

/* optional muted state when zero (hidden by script normally) */
.messages-badge.hidden, .site-msg-badge.hidden{ display:none !important }

/* position header badge inside card header title (overlapping top-right) */
.card-header .card-title{ position:relative; padding-right:48px } /* reserve space for floating badge */
.card-header .card-title .messages-badge{
  position:absolute;
  top:-8px;
  right: -8px;
  min-width:20px;
  height:20px;
  padding:0 6px;
  font-size:12px;
  line-height:20px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 6px 12px rgba(0,0,0,0.12);
}

/* Truncate long table cells and show native tooltip when text overflows.
   JS will add data-ellipsis="true" when a cell's content doesn't fit. */
/* removed truncation rule to allow tables to size to content when requested */

/* Optimistic send UI helpers */
.msg-spinner{display:inline-block;margin-left:8px;width:12px;height:12px;border-radius:999px;border:2px solid rgba(0,0,0,0.08);border-top-color:var(--accent);animation:spin 800ms linear infinite;vertical-align:middle}
.thread-message.failed .msg-spinner{display:none}
.msg-retry{margin-left:8px}

@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}

/* Chat widget (anchored bottom-right) overrides for #chatModal
  Converts the old centered modal into a floating chat bubble + panel
  with fade/scale transition for open/close. */
#chatModal.chat-widget{position:fixed;bottom:20px;right:20px;inset:auto;width:56px;height:56px;z-index:2200;display:block;pointer-events:auto}
#chatModal.chat-widget .chat-bubble{all:unset;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;width:56px;height:56px;border-radius:999px;background:linear-gradient(135deg,#1ab0ec,#108fd0);color:#fff;font-size:22px;box-shadow:0 10px 30px rgba(16,143,208,0.22);transition:transform 200ms ease, box-shadow 200ms ease}
#chatModal.chat-widget .chat-bubble:active{transform:scale(0.96)}

/* panel is positioned relative to the widget; hidden when collapsed */
#chatModal.chat-widget .modal-panel{position:relative;width:360px;max-height:80vh;border-radius:14px;padding:12px;background:linear-gradient(180deg,#fff,#fbfdff);box-shadow:0 30px 80px rgba(6,24,40,0.28);display:flex;flex-direction:column;overflow:hidden;transform-origin:bottom right;opacity:0;transform:translateY(8px) scale(0.92);pointer-events:none;transition:transform 260ms cubic-bezier(.2,.9,.2,1), opacity 220ms ease, box-shadow 220ms ease}

/* when open, expand widget to show the panel */
#chatModal.chat-widget[aria-hidden="false"]{width:auto;height:auto}
#chatModal.chat-widget[aria-hidden="false"] .chat-bubble{transform:translateY(0);opacity:0.95}
#chatModal.chat-widget[aria-hidden="false"] .modal-panel{opacity:1;transform:translateY(0) scale(1);pointer-events:auto}

/* position the panel above and to the left of the bubble when open */
#chatModal.chat-widget .modal-panel{position:absolute;right:0;bottom:70px}

/* make the internal scroll area a bit taller when used as widget */
#chatModal.chat-widget .thread-messages, #chatModal.chat-widget .chat-messages{max-height:52vh}

/* ensure the close button sits visually inside the panel (small tweak) */
#chatModal.chat-widget .modal-close{right:10px;top:8px}

/* collapsed state: hide panel, only bubble visible */
#chatModal.chat-widget[aria-hidden="true"] .modal-panel{opacity:0;transform:translateY(8px) scale(0.92);pointer-events:none}

/* small visual helper: when widget open, slightly lift bubble */
#chatModal.chat-widget[aria-hidden="false"] .chat-bubble{box-shadow:0 18px 40px rgba(16,143,208,0.24);transform:translateY(-6px)}

@media(max-width:720px){
  /* on small screens, expand to bottom center full width-ish */
  #chatModal.chat-widget{left:12px;right:12px;bottom:12px;width:auto}
  #chatModal.chat-widget .modal-panel{right:12px;left:12px;bottom:72px;width:auto}
}
